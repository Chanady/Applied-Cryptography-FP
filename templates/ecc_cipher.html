<!-- filepath: /home/kiryuin/Documents/Applied-Cryptography-FP/templates/ecc_cipher.html -->
{% extends "layout.html" %}
{% block content %}
<div class="max-w-4xl mx-auto">
  <div class="flex items-center mb-6">
    <i data-lucide="file-key" class="h-8 w-8 text-blue-500 mr-3"></i>
    <h2 class="text-3xl font-bold text-on-surface-light dark:text-on-surface-dark">
      ECC Cipher
    </h2>
  </div>
  <form method="POST" class="space-y-6 bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-xl border border-border-light dark:border-border-dark">
    <div>
      <label for="ecc_message" class="block text-sm font-medium text-on-surface-muted dark:text-on-surface-muted mb-1">Message:</label>
      <input type="text" id="ecc_message" name="ecc_message" class="form-input font-mono w-full" value="{{ ecc_message or '' }}" placeholder="Enter message..." required>
    </div>
    <div>
      <span class="block text-sm font-medium text-on-surface-muted dark:text-on-surface-muted mb-2">Operation:</span>
      <label class="mr-4">
        <input type="radio" name="ecc_operation" value="encrypt" {% if not ecc_operation or ecc_operation == 'encrypt' %}checked{% endif %}> Encrypt
      </label>
      <label>
        <input type="radio" name="ecc_operation" value="decrypt" {% if ecc_operation == 'decrypt' %}checked{% endif %}> Decrypt
      </label>
    </div>
    <button type="submit" class="btn btn-primary w-full">
      <i data-lucide="zap" class="mr-2 h-5 w-5"></i> Process
    </button>
  </form>
  {% if ecc_result %}
  <div class="mt-8 bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-xl border border-border-light dark:border-border-dark">
    <h3 class="text-2xl font-semibold mb-4 text-on-surface-light dark:text-on-surface-dark">Result:</h3>
    <div class="mb-4">
      <label class="block text-sm font-medium text-on-surface-muted dark:text-on-surface-muted">Output:</label>
      <textarea readonly class="form-textarea-readonly font-mono" rows="3">{{ ecc_result }}</textarea>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}